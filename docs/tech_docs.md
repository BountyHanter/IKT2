# Техническая документация

---
### Назначение программы

Программа разработана для ведения электронного реестра пользователей, позволяя выполнять операции добавления, поиска, редактирования и вывода информации о пользователях. Данные о пользователях включают имя, фамилию, год рождения и уровень образования. Программа предоставляет текстовый пользовательский интерфейс для взаимодействия с пользователем через командную строку.

### Условия применения программы

1. **Операционная система:** Программа предназначена для запуска на операционных системах, поддерживающих интерпретатор Python версии 3.x.
2. **Технические требования:** Для работы программы требуется наличие установленного интерпретатора Python 3.x. Необходимо также наличие прав доступа для чтения и записи файлов в директории запуска программы.
3. **Пользователь:** Программа предназначена для использования лицами, имеющими базовые навыки работы с компьютером и командной строкой. Пользователь должен уметь вводить данные с клавиатуры и интерпретировать текстовые инструкции.
4. **Применение:** Программа может быть использована в учебных целях, для малого и среднего бизнеса, в качестве простого решения для ведения персональных записей, или в любом другом контексте, где требуется базовый реестр пользователей без сложных систем управления базами данных.
5. **Ограничения:** Программа не предназначена для работы с большим объемом данных (десятки тысяч записей и более) из-за отсутствия оптимизации производительности и ограниченных возможностей поиска и фильтрации.

### Особенности использования программы

Программа не требует установки дополнительных библиотек или модулей, за исключением стандартной библиотеки Python. Все операции по работе с данными выполняются локально, что обеспечивает приватность и безопасность информации. Пользователь должен следовать инструкциям, выводимым программой в командной строке, для выполнения необходимых операций. 

---

### Характеристика программы

#### Функциональное назначение программы

Программа предназначена для создания, хранения, редактирования и поиска данных о пользователях в локальной файловой системе. Основные функции программы включают:

1. **Добавление данных:** пользователь может вносить информацию о новых пользователях, включая имя, фамилию, год рождения и уровень образования.
2. **Поиск данных:** программа позволяет осуществлять поиск сохраненной информации о пользователях по фамилии.
3. **Редактирование данных:** пользователь имеет возможность изменять сведения о конкретном пользователе после его поиска в базе.
4. **Вывод информации:** программа предоставляет функционал для вывода всей доступной информации о пользователях или сырых данных в формате JSON.
5. **Управление данными:** программа обеспечивает сохранение внесенных изменений, обновляя хранимые данные в файле формата JSON.

#### Характеристика методов, используемых в программе

Программа использует стандартные методы ввода/вывода для взаимодействия с пользователем через командную строку и для чтения/записи данных в файл формата JSON. Для обработки данных применяются базовые операции работы со списками и словарями в Python, что обеспечивает простоту и понятность структуры программы. Валидация вводимых пользователем данных производится с помощью стандартных конструкций языка Python (try-except) для обработки исключений.

--- 

Согласно ГОСТ 19.504-79, описание обращения к программе должно содержать инструкции по запуску и использованию программы, а также может включать информацию о параметрах запуска, если таковые имеются. Для вашей программы обращение к программе может быть описано следующим образом:

---

### Обращение к программе

#### Запуск программы

Для запуска программы необходимо выполнить следующие шаги:

1. **Подготовка к запуску:** Убедитесь, что на вашем компьютере установлен Python версии 3.x. Программа разработана и протестирована для работы с Python 3, поэтому корректная работа с более ранними версиями не гарантируется.

2. **Запуск скрипта:** Откройте командную строку или терминал в операционной системе. Перейдите в директорию, содержащую скрипт программы. Запустите программу командой:
   ```sh
   python имя_файла_программы.py
   ```
   Убедитесь, что вы заменили `имя_файла_программы.py` на актуальное имя файла скрипта.

#### Использование программы

После запуска программы пользователь встречается с текстовым меню, предлагающим следующие опции:

- **0 - Выход:** Завершает работу программы.
- **1 - Добавить информацию:** Позволяет ввести и сохранить данные нового пользователя, включая имя, фамилию, год рождения, и образование.
- **2 - Редактировать информацию:** Предлагает найти пользователя по фамилии и изменить его данные.
- **3 - Найти информацию:** Осуществляет поиск пользователя по фамилии и отображает его данные.
- **4 - Вывести информацию:** Выводит информацию обо всех пользователях, сохраненных в программе.
- **5 - Вывести сырую информацию:** Выводит данные в формате JSON, как они сохранены в файле.

Для выбора опции пользователю необходимо ввести соответствующую цифру и нажать Enter. После выбора опции программа предоставит дальнейшие инструкции или запросит необходимую информацию.

#### Параметры запуска

Программа не использует внешние параметры запуска и полагается на ввод данных пользователем через интерактивный текстовый интерфейс в процессе выполнения.

#### Завершение работы программы

Для завершения работы с программой выберите опцию "0 - Выход" в главном меню. Программа корректно завершит свою работу, сохранив все внесенные изменения в данные.

---

### Входные данные

1. **Информация для добавления или редактирования данных пользователя:**
   - **Имя:** Текстовая строка, представляющая имя пользователя.
   - **Фамилия:** Текстовая строка, представляющая фамилию пользователя.
   - **Год рождения:** Текстовая строка, содержащая год рождения пользователя. Должна быть числовым значение так как будет проверена на целочисленное значение функцией `is_not_number`.
   - **Образование:** Целочисленное значение, представляющее уровень образования пользователя. Пользователь вводит число, которое соответствует одному из предопределенных уровней образования.

2. **Ключ поиска для поиска и редактирования информации:**
   - **Фамилия:** Текстовая строка, используемая для поиска информации о конкретном пользователе в базе данных.

### Выходные данные

1. **Информация о пользователе или пользователях:**
   - Выводится в текстовом формате и содержит поля: имя, фамилия, год рождения, образование. Данные предоставляются либо в интерактивном режиме через командную строку, либо в формате JSON в зависимости от выбранной пользователем опции.

2. **Сообщения о статусе операций:**
   - Текстовые сообщения, информирующие пользователя о результате выполненных операций (например, успешное добавление данных, результаты поиска, подтверждение успешного редактирования данных, ошибки ввода данных).

3. **Файл данных в формате JSON:**
   - В качестве выходного файла программа генерирует или обновляет файл в формате JSON, содержащий массив объектов с данными всех пользователей. Этот файл служит хранилищем введенных данных.

---

### Сообщения программы

#### Сообщения об ошибках

1. **"Вы ввели год не корректно, повторите"** - выводится, когда пользователь вводит значение года рождения, которое не удается преобразовать в числовой формат. Причина вывода - проверка значения через функцию `is_not_number` не прошла.

2. **"Введено неверное число. Пожалуйста, попробуйте еще раз."** - сообщение выводится, когда пользователь вводит номер, не соответствующий ни одному из предложенных вариантов образования или вводит данные, не являющиеся целым числом при выборе уровня образования.

3. **"Фамилия не найдена."** - сообщение появляется, когда при попытке найти или отредактировать информацию о пользователе по фамилии соответствующая запись отсутствует в базе данных.

4. **"Файл не найден."**, **"Файл пуст или содержит некорректный JSON."** - эти сообщения появляются при попытках чтения файла данных, если файл отсутствует, пуст или содержит данные в некорректном формате.

#### Уведомления о статусе операций

1. **"Данные успешно добавлены."** - это сообщение не выводится непосредственно в представленном коде, но может быть добавлено после успешного добавления данных пользователя в файл для улучшения взаимодействия с пользователем.

2. **"Данные успешно обновлены."** - аналогично, это сообщение предлагается к добавлению после успешного завершения операции редактирования данных пользователя.

#### Инструкции для пользователя

1. **"Введите имя\n"**, **"Введите фамилию\n"**, **"Введите год рождения\n"** - приглашения к вводу основных данных о пользователе в процессе добавления новой записи.

2. **"Введите образование, посредством ввода цифры"** - инструкция к выбору уровня образования из предложенного списка.

3. **"Что вы хотите изменить?\n1: Имя\n2: Фамилия\n3: Год рождения\n4: Образование\n0: Завершить"** - меню для выбора поля данных пользователя, которое предполагается редактировать.

4. **"Привет, что будем делать?\n0 - Выход\n1 - Добавить информацию\n2 - Редактировать информацию\n3 - Найти информацию\n4 - Вывести информацию\n5 - Вывести сырую информацию\n"** - главное меню программы, предлагающее пользователю выбрать одно из возможных действий.

---


1. **add_data(new_dict)**: Эта функция принимает словарь `new_dict` в качестве аргумента. Она проверяет, существует ли 
файл с именем `filename` и не пуст ли он. Если файл существует и не пуст, функция открывает файл и загружает данные из
него в переменную `data`. Если файл не существует или пуст, `data` инициализируется как пустой список. Затем `new_dict` 
добавляется в `data`, и `data` сохраняется обратно в файл.
2. **take_info()**: Эта функция запрашивает у пользователя ввод имени, фамилии, года рождения и образования. Образование
выбирается из предопределенного словаря `num_dict`. Если введенное число не находится в `num_dict`, функция продолжает 
запрашивать ввод, пока пользователь не введет допустимое число. Затем функция создает словарь `final_dict` с введенной
информацией и вызывает функцию `add_data(final_dict)`, чтобы добавить эту информацию в файл.
3. **find_info()**: Эта функция запрашивает у пользователя фамилию, которую нужно найти. Она открывает файл с именем 
`filename` и загружает данные из него в переменную `data`. Затем функция проходит по каждому элементу в `data` (каждый
элемент представляет собой словарь с информацией о человеке) и проверяет, совпадает ли фамилия в словаре с введенной 
фамилией. Если совпадение найдено, функция выводит информацию об этом человеке. Если совпадение не найдено, функция 
выводит сообщение о том, что фамилия не найдена.
4. **correct_info()**: Эта функция также запрашивает у пользователя фамилию для поиска. Она открывает файл с именем 
`filename` и загружает данные из него в переменную data. Функция затем ищет человека с введенной фамилией в `data`. 
Если человек найден, функция предлагает пользователю изменить информацию об этом человеке. Пользователь может выбрать, 
какую информацию он хочет изменить, введя соответствующее число. После того, как все изменения внесены, функция 
сохраняет обновленные данные обратно в файл. Если человек с введенной фамилией не найден, функция выводит сообщение о
том, что фамилия не найдена.
5. **take_json()**: Эта функция состоит из двух вложенных функций и основного блока кода:

    - `take()`: Эта функция проверяет существование файла с именем `filename`. Если файл не существует, она выводит 
   сообщение "файла не существует" и возвращает `None`. Если файл существует, она открывает файл, загружает данные из него и возвращает их. Если данные отсутствуют или представляют собой пустой список, функция выводит сообщение "Данных нет" и возвращает `None`.

    - `print_json(data)`: Эта функция принимает данные в формате JSON и выводит их в отформатированном виде. Если данные равны `None`, функция не выводит ничего.
    - В основном блоке кода функции `take_json()`, функция `take()` вызывается для получения данных, а затем вызывается функция `print_json(data)` для вывода этих данных, если они существуют.

6. **start()**: Эта функция представляет собой основной цикл программы. Она продолжает запрашивать у пользователя действие, 
пока пользователь не выберет `0 - Выход`. В зависимости от выбора пользователя вызываются различные функции для 
выполнения соответствующих действий.
